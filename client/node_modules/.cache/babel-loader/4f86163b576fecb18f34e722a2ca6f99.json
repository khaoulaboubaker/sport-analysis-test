{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\khaoula\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\khaoula\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\khaoula\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\khaoula\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\khaoula\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\khaoula\\\\sport analysis\\\\client\\\\src\\\\components\\\\VideoPlayer\\\\VideoPlayer.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport videojs from 'video.js';\nimport './videojs.css';\nimport Navbar from '../Navbar/Navbar';\n\nvar VideoPlayer = /*#__PURE__*/function (_React$Component) {\n  _inherits(VideoPlayer, _React$Component);\n\n  function VideoPlayer(props) {\n    var _this;\n\n    _classCallCheck(this, VideoPlayer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VideoPlayer).call(this, props));\n    _this.state = {\n      loaded: false,\n      videoJsOptions: null\n    };\n    return _this;\n  }\n\n  _createClass(VideoPlayer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://127.0.0.1:3333/api/videoList', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('userTokenTime')).token\n        }\n      }).then(function (res) {\n        res.data.map(function (video) {\n          if (video.upload_title === _this2.props.match.params.videoTitle) {\n            _this2.setState({\n              loaded: true,\n              videoJsOptions: {\n                autoplay: false,\n                controls: true,\n                sources: [{\n                  src: video.video_path\n                }]\n              }\n            }, function () {\n              _this2.player = videojs(_this2.videoNode, _this2.state.videoJsOptions, function onPlayerReady() {// console.log('onPlayerReady', this)\n              });\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.player) {\n        this.player.dispose();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!localStorage.getItem('userTokenTime')) return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/signIn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 56\n        }\n      });\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Navbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          width: \"100vw\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-xs-12 col-sm-12 col-md-10 col-lg-8 mx-auto mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, this.state.loaded ? /*#__PURE__*/React.createElement(\"div\", {\n        \"data-vjs-player\": true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"video\", {\n        ref: function ref(node) {\n          return _this3.videoNode = node;\n        },\n        className: \"video-js vjs-big-play-centered\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      })) : ' Loading ... ')));\n    }\n  }]);\n\n  return VideoPlayer;\n}(React.Component);\n\nexport default VideoPlayer;","map":{"version":3,"names":["React","axios","Redirect","videojs","Navbar","VideoPlayer","props","state","loaded","videoJsOptions","get","headers","JSON","parse","localStorage","getItem","token","then","res","data","map","video","upload_title","match","params","videoTitle","setState","autoplay","controls","sources","src","video_path","player","videoNode","onPlayerReady","dispose","width","node","Component"],"sources":["C:/Users/khaoula/sport analysis/client/src/components/VideoPlayer/VideoPlayer.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport videojs from 'video.js';\r\nimport './videojs.css';\r\nimport Navbar from '../Navbar/Navbar';\r\n\r\nclass VideoPlayer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loaded: false,\r\n      videoJsOptions: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get('http://127.0.0.1:3333/api/videoList', {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem('userTokenTime')).token\r\n      }\r\n    }).then(res => {\r\n      res.data.map(video => {\r\n        if (video.upload_title === this.props.match.params.videoTitle) {\r\n          this.setState({\r\n            loaded: true,\r\n            videoJsOptions: {\r\n              autoplay: false,\r\n              controls: true,\r\n              sources: [{\r\n                src: video.video_path\r\n              }]\r\n            }\r\n          }, () => {\r\n            this.player = videojs(this.videoNode, this.state.videoJsOptions, function onPlayerReady() {\r\n              // console.log('onPlayerReady', this)\r\n            });\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.player) {\r\n      this.player.dispose()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!localStorage.getItem('userTokenTime')) return <Redirect to=\"/signIn\" />\r\n    return (\r\n      <React.Fragment>\r\n        <Navbar />\r\n        <div className=\"row\" style={{ width: \"100vw\" }}>\r\n          <div className=\"col-xs-12 col-sm-12 col-md-10 col-lg-8 mx-auto mt-5\">\r\n            {this.state.loaded ? (\r\n              <div data-vjs-player>\r\n                <video ref={node => this.videoNode = node} className=\"video-js vjs-big-play-centered\" />\r\n              </div>\r\n            ) : ' Loading ... '}\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoPlayer;\r\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,OAAOC,OAAP,MAAoB,UAApB;AACA,OAAO,eAAP;AACA,OAAOC,MAAP,MAAmB,kBAAnB;;IAEMC,W;;;EACJ,qBAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,iFAAMA,KAAN;IACA,MAAKC,KAAL,GAAa;MACXC,MAAM,EAAE,KADG;MAEXC,cAAc,EAAE;IAFL,CAAb;IAFiB;EAMlB;;;;wCAEmB;MAAA;;MAClBR,KAAK,CAACS,GAAN,CAAU,qCAAV,EAAiD;QAC/CC,OAAO,EAAE;UACP,gBAAgB,kBADT;UAEP,iBAAiB,YAAYC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,EAAkDC;QAFxE;MADsC,CAAjD,EAKGC,IALH,CAKQ,UAAAC,GAAG,EAAI;QACbA,GAAG,CAACC,IAAJ,CAASC,GAAT,CAAa,UAAAC,KAAK,EAAI;UACpB,IAAIA,KAAK,CAACC,YAAN,KAAuB,MAAI,CAAChB,KAAL,CAAWiB,KAAX,CAAiBC,MAAjB,CAAwBC,UAAnD,EAA+D;YAC7D,MAAI,CAACC,QAAL,CAAc;cACZlB,MAAM,EAAE,IADI;cAEZC,cAAc,EAAE;gBACdkB,QAAQ,EAAE,KADI;gBAEdC,QAAQ,EAAE,IAFI;gBAGdC,OAAO,EAAE,CAAC;kBACRC,GAAG,EAAET,KAAK,CAACU;gBADH,CAAD;cAHK;YAFJ,CAAd,EASG,YAAM;cACP,MAAI,CAACC,MAAL,GAAc7B,OAAO,CAAC,MAAI,CAAC8B,SAAN,EAAiB,MAAI,CAAC1B,KAAL,CAAWE,cAA5B,EAA4C,SAASyB,aAAT,GAAyB,CACxF;cACD,CAFoB,CAArB;YAGD,CAbD;UAcD;QACF,CAjBD;MAkBD,CAxBD;IAyBD;;;2CAEsB;MACrB,IAAI,KAAKF,MAAT,EAAiB;QACf,KAAKA,MAAL,CAAYG,OAAZ;MACD;IACF;;;6BAEQ;MAAA;;MACP,IAAI,CAACrB,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAL,EAA4C,oBAAO,oBAAC,QAAD;QAAU,EAAE,EAAC,SAAb;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAP;MAC5C,oBACE,oBAAC,KAAD,CAAO,QAAP;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACE,oBAAC,MAAD;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EADF,eAEE;QAAK,SAAS,EAAC,KAAf;QAAqB,KAAK,EAAE;UAAEqB,KAAK,EAAE;QAAT,CAA5B;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACE;QAAK,SAAS,EAAC,qDAAf;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACG,KAAK7B,KAAL,CAAWC,MAAX,gBACC;QAAK,uBAAL;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACE;QAAO,GAAG,EAAE,aAAA6B,IAAI;UAAA,OAAI,MAAI,CAACJ,SAAL,GAAiBI,IAArB;QAAA,CAAhB;QAA2C,SAAS,EAAC,gCAArD;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EADF,CADD,GAIG,eALN,CADF,CAFF,CADF;IAcD;;;;EA3DuBrC,KAAK,CAACsC,S;;AA8DhC,eAAejC,WAAf"},"metadata":{},"sourceType":"module"}